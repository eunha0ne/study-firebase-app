(this["webpackJsonpstudy-firebase-app"]=this["webpackJsonpstudy-firebase-app"]||[]).push([[0],{25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAABYlAAAWJQFJUiTwAAAF+mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA0LTA1VDE1OjE0OjUzKzA5OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA0LTA1VDE1OjE0OjUzKzA5OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNC0wNVQxNToxNDo1MyswOTowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmNzQwMDBhMC0zODhkLTNiNDMtOTY2MC05OWU1ZmNiOWZlODYiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDphY2JmMGIzNi03NDQ3LTA2NDQtYjAwOS1mZDRkNmI2YWI5ZWMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiOGM0NmQ1MC02NjNkLTc3NGQtODBjOC05YjA3Nzk4MDk5MTgiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmI4YzQ2ZDUwLTY2M2QtNzc0ZC04MGM4LTliMDc3OTgwOTkxOCIgc3RFdnQ6d2hlbj0iMjAyMC0wNC0wNVQxNToxNDo1MyswOTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNzQwMDBhMC0zODhkLTNiNDMtOTY2MC05OWU1ZmNiOWZlODYiIHN0RXZ0OndoZW49IjIwMjAtMDQtMDVUMTU6MTQ6NTMrMDk6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6BOcj0AAAADUlEQVQImWP4//8/AwAI/AL+hc2rNAAAAABJRU5ErkJggg=="},33:function(e,t,a){e.exports=a(50)},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),u=a.n(c),l=a(6),i=a(14),o=a(3),s=a(4),m=a(17),p=(a(42),a(44),{apiKey:"AIzaSyCq0Bkn-XDvqHKbG-SKnHS96lVeMZNQQ_c",authDomain:"study-firebase-app.firebaseapp.com",databaseURL:"https://study-firebase-app.firebaseio.com",projectId:"study-firebase-app",storageBucket:"study-firebase-app.appspot.com",messagingSenderId:"183153358418",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/eunha0ne/study-firebase-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_KEY:"AIzaSyCq0Bkn-XDvqHKbG-SKnHS96lVeMZNQQ_c",REACT_APP_AUTH_DOMAIN:"study-firebase-app.firebaseapp.com",REACT_APP_DATABASE_URL:"https://study-firebase-app.firebaseio.com",REACT_APP_PROJECT_ID:"study-firebase-app",REACT_APP_STORAGE_BUCKET:"study-firebase-app.appspot.com",REACT_APP_MESSAGING_SENDER_ID:"183153358418",REACT_APP_APP_ID:"1:183153358418:web:82bba9d96d7bcf7125518b",REACT_APP_BASE_URL:"https://dapi.kakao.com/v3",REACT_APP_KAKAO_API_KEY:"cc9c90497adf9e043acf8d90e5490197"}).REACT_APP_ID});m.initializeApp(p);var b=m,d=m.auth(),E=m.firestore(),f=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){r(!!e)}))}),[]),a},h=a(25),v=a.n(h),A=function(e){var t=e.thumbnail,a=void 0===t?v.a:t,c=e.title,u=e.authors,l=e.price,i=Object(n.useRef)(),s=Object(n.useState)(v.a),m=Object(o.a)(s,2),p=m[0],b=m[1];return Object(n.useEffect)((function(){var e=new IntersectionObserver((function(e){Object(o.a)(e,1)[0].isIntersecting&&b(a)}));return e.observe(i.current),function(){return e.disconnect()}}),[i,a]),r.a.createElement("article",{ref:i},r.a.createElement("header",null,r.a.createElement("img",{src:p,alt:c})),r.a.createElement("ul",null,r.a.createElement("li",null,c),r.a.createElement("li",null,u.join(", ")),r.a.createElement("li",null,l.toLocaleString(),"\uc6d0")))},O=function(e){var t=e.data;e.isLoading,e.isError;return r.a.createElement("ul",null,t.map((function(e,a){return r.a.createElement("li",{key:"im-".concat(a),style:{height:"300px"}},r.a.createElement(A,Object.assign({},e,{loadNextPage:a===t.length-1})))})))},g=function(){var e=Object(l.c)((function(e){return{searchState:e.search}})).searchState;return r.a.createElement(O,e)},j=function(){return r.a.createElement("section",null,r.a.createElement("header",null,r.a.createElement("h2",null,"\uac80\uc0c9 \uacb0\uacfc")),r.a.createElement(g,null))},k=a(2),y=a.n(k),I=a(5),S=a(12),w=Object(S.b)({name:"modal",initialState:{isOpen:!1,message:""},reducers:{showModal:function(e,t){var a=t.payload.message;e.isOpen=!0,e.message=a},hideModal:function(e){e.isOpen=!1}}}),D=w.actions,R=w.reducer,N=D.showModal,C=D.hideModal,T=R,M=function(){var e=Object(l.b)(),t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],u=a[1],i=Object(n.useState)(""),s=Object(o.a)(i,2),m=s[0],p=s[1],E=Object(n.useState)(!1),f=Object(o.a)(E,2),h=f[0],v=f[1],A=function(e){var t=e.target,a=t.type,n=t.value;"email"===a?u(n):"password"===a&&p(n)},O=function(){var t=Object(I.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,!h){t.next=7;break}return t.next=5,d.createUserWithEmailAndPassword(c,m);case 5:t.next=9;break;case 7:return t.next=9,d.signInWithEmailAndPassword(c,m);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e(N({message:t.t0.message}));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(I.a)(y.a.mark((function t(a){var n,r,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.target,r=n.name,c=null,t.prev=3,"google"===r?c=new b.auth.GoogleAuthProvider:"github"===r&&(c=new b.auth.GithubAuthProvider),t.next=7,d.signInWithPopup(c);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),e(N({message:t.t0.message}));case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:O},r.a.createElement("p",null,h?"\uc0c8\ub85c\uc6b4 \uacc4\uc815\uc744 \uc0dd\uc131\ud574 \ubcf4\uc138\uc694.":"\uc0ac\uc6a9\uc790 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778\ud569\ub2c8\ub2e4."),r.a.createElement("label",null,"\uc774\uba54\uc77c",r.a.createElement("input",{type:"email",placeholder:"email",value:c,required:!0,onChange:A})),r.a.createElement("label",null,"\uc554\ud638",r.a.createElement("input",{type:"password",placeholder:"password",value:m,required:!0,onChange:A})),r.a.createElement("label",null,r.a.createElement("input",{type:"submit",value:"\ud655\uc778"}))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:function(){v(!h)}},h?"\ub85c\uadf8\uc778\ud558\uae30":"\uac00\uc785\ud558\uae30"),r.a.createElement("button",{name:"google",onClick:g},"\uad6c\uae00 \ub85c\uadf8\uc778"),r.a.createElement("button",{name:"github",onClick:g},"\uae43\ud5d9 \ub85c\uadf8\uc778")))},x=a(28),G=function(e){var t=e.user,a=e.data,c=Object(n.useState)(!1),u=Object(o.a)(c,2),l=u[0],i=u[1],s=Object(n.useState)(null),m=Object(o.a)(s,2),p=m[0],b=m[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),h=f[0],v=f[1],A=Object(n.useState)(""),O=Object(o.a)(A,2),g=O[0],j=O[1],k=Object(n.useState)(""),S=Object(o.a)(k,2),w=S[0],D=S[1],R=function(){var e=Object(I.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,E.doc("stock/".concat(a)).delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(I.a)(y.a.mark((function e(t){var a,n,r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,n=t.name,r=t.price,c=t.quantity,v(n),j(r),D(c),i(!0),b(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(I.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,E.doc("stock/".concat(a)).update({name:h,price:g,quantity:w});case 3:M();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=e.target,a=t.name,n=t.value;"name"===a?v(n):"price"===a?j(n):"quantity"===a&&D(n)},M=function(){v(""),j(""),D(""),i(!1),b(null)};return r.a.createElement("ul",null,a.map((function(e,a){var n=e.name,c=e.price,u=e.quantity,i=e.maintainer,o=e.id,s=i===t.uid,m=p===o&&l;return r.a.createElement("li",{key:a},r.a.createElement("dl",null,r.a.createElement("dt",null,"\uc774\ub984"),r.a.createElement("dd",null,m?r.a.createElement("input",{type:"text",name:"name",onChange:T,value:h}):n),r.a.createElement("dt",null,"\uac00\uaca9"),r.a.createElement("dd",null,m?r.a.createElement("input",{type:"text",name:"price",onChange:T,value:g}):c.toLocaleString()),r.a.createElement("dt",null,"\uc218\ub7c9"),r.a.createElement("dd",null,m?r.a.createElement("input",{type:"text",name:"quantity",onChange:T,value:w}):u)),s&&r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return R({id:o})}},"\uc0ad\uc81c"),m?r.a.createElement("button",{onClick:function(){return C({id:o})}},"\ud655\uc778"):r.a.createElement("button",{onClick:function(){return N({id:o,name:n,price:c,quantity:u})}},"\uc218\uc815\ud558\uae30")))})))},L=function(e){var t=e.user,a=Object(l.b)(),c=Object(n.useState)(""),u=Object(o.a)(c,2),i=u[0],s=u[1],m=Object(n.useState)(""),p=Object(o.a)(m,2),b=p[0],d=p[1],f=Object(n.useState)(""),h=Object(o.a)(f,2),v=h[0],A=h[1],O=Object(n.useState)([]),g=Object(o.a)(O,2),j=g[0],k=g[1],S=function(e){var t=e.target,a=t.name,n=t.value;"name"===a?s(n):"price"===a?d(n):"quantity"===a&&A(n)},w=function(){var e=Object(I.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,E.collection("stock").add({name:i,price:b,quantity:v,maintainer:t.uid});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a(N({message:e.t0.message}));case 9:return e.prev=9,s(""),d(""),A(""),e.finish(9);case 14:case"end":return e.stop()}}),e,null,[[1,6,9,14]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(I.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,E.collection("stock").get();case 3:return e.sent.forEach((function(e){t.push(Object(x.a)({id:e.id},e.data()))})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){D().then((function(e){k(e)})),E.collection("stock").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));k(t)}))}),[]),r.a.createElement("section",null,r.a.createElement("header",null,r.a.createElement("h2",null,"\uc2e4\uc2dc\uac04 \uc7ac\uace0 \uad00\ub9ac")),r.a.createElement("form",{onSubmit:w},r.a.createElement("label",null,"\uc544\uc774\ud15c \uc774\ub984",r.a.createElement("input",{type:"text",placeholder:"\uc544\uc774\ud15c \uc774\ub984",name:"name",value:i,required:!0,onChange:S})),r.a.createElement("label",null,"\uac00\uaca9",r.a.createElement("input",{type:"number",name:"price",value:b,required:!0,onChange:S})),r.a.createElement("label",null,"\uc218\ub7c9",r.a.createElement("input",{type:"number",name:"quantity",value:v,required:!0,onChange:S})),r.a.createElement("label",null,r.a.createElement("input",{type:"submit",value:"\ud655\uc778"}))),r.a.createElement(G,{user:t,data:j}))},P=function(){var e=f(),t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],u=a[1];return Object(n.useEffect)((function(){d.onAuthStateChanged((function(e){e&&u(e)}))}),[]),e?function(e){var t=e.user;return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(j,null)),r.a.createElement(s.b,{exact:!0,path:"/settings"},r.a.createElement(L,{user:t})))}({user:c}):r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(s.a,{from:"*",to:"/"}))},B=function(e){var t=e.message,a=Object(l.b)();return r.a.createElement("article",null,r.a.createElement("p",null,t),r.a.createElement("button",{onClick:function(){a(C())}},"\ub2eb\uae30"))},W=function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",exact:!0,activeClassName:"is-select"},"\ucc98\uc74c\uc73c\ub85c")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/settings",exact:!0,activeClassName:"is-select"},"\uc124\uc815"))))},Z=function(){var e=Object(I.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"KakaoAK ".concat("cc9c90497adf9e043acf8d90e5490197")}},e.next=3,fetch(t,a);case 3:if(!(n=e.sent).ok){e.next=8;break}return e.abrupt("return",n.json());case 8:throw new Error(n.statusText);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z={fetchBooks:function(e){return Z("".concat("https://dapi.kakao.com/v3","/search/book?query=").concat(e))}},Y=Object(S.b)({name:"search",initialState:{isLoading:!1,isError:!1,data:[],page:1},reducers:{getFetchBooksStart:function(e){e.isLoading=!0},getFetchBooksSuccess:function(e,t){var a=t.payload.documents;e.data=a,e.isLoading=!1,e.isError=!1},getFetchBooksFailure:function(e){e.isLoading=!1,e.isError=!0}}}),U=Y.actions,_=Y.reducer,J=U.getFetchBooksStart,Q=U.getFetchBooksSuccess,F=U.getFetchBooksFailure,H=_,V=function(){var e=Object(l.b)();return r.a.createElement("input",{type:"text",onChange:function(e){console.log("change",e.target.value)},onKeyUp:function(t){var a,n=t.target;"Enter"===t.key&&e((a=n.value,function(){var e=Object(I.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(J()),e.prev=1,e.next=4,z.fetchBooks(a);case 4:n=e.sent,t(Q(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(F()),console.warn(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}})},X=function(){var e=f(),t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],u=a[1];Object(n.useEffect)((function(){if(e){var t=d.currentUser,a=t.displayName,n=t.email;u(a||n.split("@")[0])}}),[e]);var l=function(){var e=Object(I.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.warn(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("header",null,r.a.createElement("h1",null,"Eunha's FireBase App"),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null),r.a.createElement(V,null),r.a.createElement("article",null,r.a.createElement("p",null,"\ud658\uc601\ud569\ub2c8\ub2e4! ",r.a.createElement("strong",null,c)),r.a.createElement("button",{onClick:l},"\ub85c\uadf8\uc544\uc6c3"))))},K=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," eunha0ne All rights reserved. ",r.a.createElement("br",null),"Built With React, Redux and FireBase."))};var q=function(){var e=Object(l.c)((function(e){return{modalState:e.modal}})).modalState;return r.a.createElement(i.a,null,r.a.createElement(X,null),r.a.createElement("main",null,r.a.createElement(P,null),e.isOpen&&r.a.createElement(B,e)),r.a.createElement(K,null))},$=a(11),ee=Object($.c)({modal:T,search:H});var te=Object(S.a)({reducer:ee});u.a.render(r.a.createElement(l.a,{store:te},r.a.createElement(q,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.482eba77.chunk.js.map